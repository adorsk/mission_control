

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Houston &mdash; MissionControl 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MissionControl 0.0.1 documentation" href="../index.html"/>
        <link rel="up" title="User Guide" href="../user_guide.html"/>
        <link rel="next" title="EntityDB" href="entity_db.html"/>
        <link rel="prev" title="Tasks" href="tasks.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MissionControl
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="jobs.html">Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="flows.html">Flows</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Tasks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Houston</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#concept-checklist">Concept Checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-houston">What is Houston?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#an-analogy">An Analogy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#why-use-houston">Why use Houston?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-houston">Configuring Houston</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#config-as-dict">Config as Dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="#config-as-object">Config as Object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-config-keys">Common Config Keys</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-commands-with-houston">Running Commands with Houston</a></li>
<li class="toctree-l3"><a class="reference internal" href="#houston-utilities">Houston Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="entity_db.html">EntityDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="requests.html">Requests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MissionControl</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../user_guide.html">User Guide</a> &raquo;</li>
        
      <li>Houston</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/aspuru-guzik-group/mission_control/edit/master/docs/sphinx/user_guide/houston.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="houston">
<h1>Houston<a class="headerlink" href="#houston" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concept-checklist">
<h2>Concept Checklist<a class="headerlink" href="#concept-checklist" title="Permalink to this headline">¶</a></h2>
<p>This page covers these concepts:</p>
<ol class="arabic simple">
<li>[ ] What is Houston?</li>
<li>[ ] Why use Houston?</li>
<li>[ ] Running commands with Houston</li>
<li>[ ] Houston utils</li>
<li>[ ] Configuring Houston</li>
</ol>
</div>
<div class="section" id="what-is-houston">
<h2>What is Houston?<a class="headerlink" href="#what-is-houston" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/mc.houston.html#mc.houston.houston.Houston" title="mc.houston.houston.Houston"><code class="xref py py-mod docutils literal"><span class="pre">Houston</span></code></a> is a high-level interface to MissionControl.</p>
<div class="section" id="an-analogy">
<h3>An Analogy<a class="headerlink" href="#an-analogy" title="Permalink to this headline">¶</a></h3>
<p>Think of a car. A car is a system of many components.
There’s an engine, brakes, gears, wheels, and many other parts.
But when you drive a car, you don’t think about each little part;
it would be too overwhelming! Instead,
you just use the steering wheel and the pedals. These are your interface to
the car.</p>
<p>MissionControl is also a system of many components. There are jobs, flows,
databases, utility classes, and many other parts. When we use MissionControl,
we don’t want to have to know about all of the little parts. We want something
that hides the details. Houston is a set of functions and utilities that lets
us use MissionControl without having to know about all the little parts.
Houston is like a steering wheel for MissionControl.</p>
</div>
</div>
<div class="section" id="why-use-houston">
<h2>Why use Houston?<a class="headerlink" href="#why-use-houston" title="Permalink to this headline">¶</a></h2>
<p>We use Houston for several reasons:</p>
<ol class="arabic simple">
<li>It makes it easier for us to write programs that interact with
MissionControl.</li>
<li>It gives us a way to consolidate configuration in one place.</li>
<li>It gives us a framework to extend MissionControl with new commands.</li>
</ol>
</div>
<div class="section" id="configuring-houston">
<h2>Configuring Houston<a class="headerlink" href="#configuring-houston" title="Permalink to this headline">¶</a></h2>
<p>Houston takes a ‘cfg’ object as a parameter. This cfg object can be a dict that
maps config keys to values. Or it can be a python object that has config keys
as attributes.</p>
<p>This allows you to use both normal dicts and python modules as config sources.</p>
<div class="section" id="config-as-dict">
<h3>Config as Dict<a class="headerlink" href="#config-as-dict" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mc.houston</span> <span class="k">import</span> <span class="n">Houston</span>
<span class="n">my_config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;SOME_CFG_KEY&#39;</span><span class="p">:</span> <span class="s1">&#39;SOME_CFG_VALUE&#39;</span>
<span class="p">}</span>
<span class="n">houston</span> <span class="o">=</span> <span class="n">Houston</span><span class="p">(</span><span class="n">cfg</span><span class="o">=</span><span class="n">my_config</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">houston</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;SOME_CFG_KEY&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Expected output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>SOME_CFG_VALUE
</pre></div>
</div>
</div>
<div class="section" id="config-as-object">
<h3>Config as Object<a class="headerlink" href="#config-as-object" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">types</span>
<span class="n">my_config</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">SimpleNamespace</span><span class="p">()</span>
<span class="n">my_config</span><span class="o">.</span><span class="n">SOME_CFG_KEY</span> <span class="o">=</span> <span class="s1">&#39;SOME_CFG_VALUE&#39;</span>
<span class="n">houston</span> <span class="o">=</span> <span class="n">Houston</span><span class="p">(</span><span class="n">cfg</span><span class="o">=</span><span class="n">my_config</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">houston</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;SOME_CFG_KEY&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Expected output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>SOME_CFG_VALUE
</pre></div>
</div>
</div>
<div class="section" id="common-config-keys">
<h3>Common Config Keys<a class="headerlink" href="#common-config-keys" title="Permalink to this headline">¶</a></h3>
<p>These are some of the common config keys used by Houston.</p>
<dl class="docutils">
<dt>MC_DB_URI</dt>
<dd>The database connection url for the MissionControl database. See
<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls">http://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls</a> for
valid url formats.</dd>
<dt>FLOW_QUEUE</dt>
<dd><p class="first">Flow queue config. Only needed if you use Houston.utils.flow_runner.</p>
<p>Example:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;my_flow_queue&#39;</span><span class="p">,</span>
    <span class="s1">&#39;queue_kwargs&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;queue_spec&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;item_type&#39;</span><span class="p">:</span> <span class="s1">&#39;Flow&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>JOB_QUEUE</dt>
<dd><p class="first">Job queue config. Only needed if you use Houston.utils.job_runner.</p>
<p>Example:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;my_job_queue&#39;</span><span class="p">,</span>
    <span class="s1">&#39;queue_kwargs&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;queue_spec&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;item_type&#39;</span><span class="p">:</span> <span class="s1">&#39;Job&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>USE_LOCKS</dt>
<dd>Set to True to enable the use of locks when claiming flows.
Default: True.</dd>
<dt>ARTIFACT_HANDLER</dt>
<dd>An instance of an artifact handler to use for converting dirs to artifacts.</dd>
<dt>JOB_DIRS_ROOT</dt>
<dd>The root path to use for job dirs.</dd>
<dt>JOBMAN_CFG</dt>
<dd>A jobman cfg specification.</dd>
</dl>
</div>
</div>
<div class="section" id="running-commands-with-houston">
<h2>Running Commands with Houston<a class="headerlink" href="#running-commands-with-houston" title="Permalink to this headline">¶</a></h2>
<p>Normally you use Houston to call MissionControl commands.</p>
<p>The typical way to run a command is to use Houston’s ‘run_command’ function.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">houston</span><span class="o">.</span><span class="n">run_command</span><span class="p">(</span>
   <span class="s1">&#39;some_command&#39;</span><span class="p">,</span>
   <span class="n">some_kwarg</span><span class="o">=...</span><span class="p">,</span>
   <span class="n">some_other_kwarg</span><span class="o">=...</span>
<span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>Note: there is also a ‘call_command’ function. That function is intended for
use with command-line calls.</p>
</div>
<div class="section" id="houston-utilities">
<h2>Houston Utilities<a class="headerlink" href="#houston-utilities" title="Permalink to this headline">¶</a></h2>
<p>If you want to interact directly with MissionControl components you can
usually access them through Houston’s ‘utils’ attribute. The ‘utils’ attribute
is an instance of <code class="xref py py-mod docutils literal"><span class="pre">mc.houston.houston.utils.HoustonUtils</span></code>. You can view
the source of that module to see what things are provided by utils.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="entity_db.html" class="btn btn-neutral float-right" title="EntityDB" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tasks.html" class="btn btn-neutral" title="Tasks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, A. Dorsk.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>